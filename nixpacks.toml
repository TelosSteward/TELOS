# Nixpacks configuration for Railway deployment
# Pre-downloads SentenceTransformer models during build to avoid cold-start delays

[phases.setup]
cmds = [
    "python3 -c \"from sentence_transformers import SentenceTransformer; SentenceTransformer('sentence-transformers/all-MiniLM-L6-v2'); SentenceTransformer('sentence-transformers/all-mpnet-base-v2'); print('Models pre-downloaded successfully')\""
]

[start]
cmd = "streamlit run telos_observatory_v3/main.py --server.port $PORT --server.address 0.0.0.0"
